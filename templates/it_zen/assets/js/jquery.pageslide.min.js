!function(e){function i(i,a){if(0===i.indexOf("#"))e(i).clone(!0).appendTo(d.empty()).show();else{if(a){var t=e("<iframe />").attr({src:i,frameborder:0,hspace:0}).css({width:"100%",height:"100%"});d.html(t)}else d.load(i);d.data("localEl",!1)}}function a(i,a){var t=d.outerWidth(!0),o={},r={};if($content=e("#main_wrapper"),!d.is(":visible")&&!s){switch(s=!0,i){case"left":d.css({left:"auto",right:"-"+t+"px"}),$content.addClass("main_wrapper_open"),r.right="+="+t;break;default:d.css({left:"-"+t+"px",right:"auto"}),$content.addClass("main_wrapper_open"),r.left="+="+t}n.animate(o,a),d.show().animate(r,a,function(){s=!1})}}var t,n=e("body"),d=e("#pageslide"),s=!1;0==d.length&&(d=e("<div />").attr("id","pageslide").css("display","none").appendTo(e("body"))),e.fn.pageslide=function(i){var a=this;a.click(function(a){var n=e(this),s=e.extend({href:n.attr("href")},i);a.preventDefault(),a.stopPropagation(),d.is(":visible")&&n[0]==t?e.pageslide.close():(e.pageslide(s),t=n[0])})},e.fn.pageslide.defaults={speed:200,direction:"right",modal:!1,iframe:!0,href:null},e.pageslide=function(t){var n=e.extend({},e.fn.pageslide.defaults,t);d.is(":visible")&&d.data("direction")!=n.direction?e.pageslide.close(function(){i(n.href,n.iframe),a(n.direction,n.speed)}):(i(n.href,n.iframe),d.is(":hidden")&&a(n.direction,n.speed)),d.data(n)},e.pageslide.close=function(i){var a=e("#pageslide"),t=a.outerWidth(!0),d=a.data("speed"),o={},r={};if($content=e("#main_wrapper"),!a.is(":hidden")&&!s){switch(s=!0,a.data("direction")){case"left":r.right="-="+t,$content.removeClass("main_wrapper_open");break;default:r.left="-="+t,$content.removeClass("main_wrapper_open")}a.animate(r,d),n.animate(o,d,function(){a.hide(),s=!1,"undefined"!=typeof i&&i()})}},d.click(function(e){e.stopPropagation()}),e(document).bind("click keyup",function(i){("keyup"!=i.type||27==i.keyCode)&&d.is(":visible")&&!d.data("modal")&&e.pageslide.close()})}(jQuery);